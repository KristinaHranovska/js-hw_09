{"mappings":"iiBAAA,IAIkBA,EAJlBC,EAAAC,EAAA,SAEMC,EAAeC,SAASC,cAAc,kBACtCC,EAAW,GACXC,EAAmE,QAAvDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQ,+BAAuB,IAAvDX,IAA2D,GAC7EG,EAAaS,SAASC,MAAMC,MAAQP,EAAUM,OAAS,GACvDV,EAAaS,SAASG,QAAQD,MAAQP,EAAUQ,SAAW,GAE3DZ,EAAaa,iBAAiB,SAO9B,SAAuBC,GACnB,IAAwBC,EAAAD,EAAME,OAAtBC,EAAgBF,EAAhBE,KAAMN,EAAUI,EAAVJ,MAED,UAATM,GAA6B,YAATA,IACpBd,EAASc,GAAQN,EACjBO,I,IAXRlB,EAAaa,iBAAiB,UAe9B,SAAsBC,GAClB,IAAMK,EAAOL,EAAME,OACbN,EAAQS,EAAKV,SAASC,MAAMC,MAC5BC,EAAUO,EAAKV,SAASG,QAAQD,MAChCS,EAAW,GAEjB,IAAKV,IAAUE,EAEX,YADAS,MAAM,8CAIVD,EAASV,MAAQA,EACjBU,EAASR,QAAUA,EAEnBU,QAAQC,IAAIH,GAEZN,EAAMU,iBACNxB,EAAayB,QACblB,aAAamB,O,IA/BjB,IAAMR,EAAqBS,EAAA7B,GAAE8B,UAAS,WAClCrB,aAAasB,QAAQ,sBAAuBxB,KAAKyB,UAAU3B,G,GAC5D,I","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst formData = {};\nconst localInfo = JSON.parse(localStorage.getItem(\"feedback-form-state\")) ?? {};\nfeedbackForm.elements.email.value = localInfo.email || '';\nfeedbackForm.elements.message.value = localInfo.message || '';\n\nfeedbackForm.addEventListener('input', fieldUserInfo);\nfeedbackForm.addEventListener('submit', sendUserInfo);\n\nconst updateLocalStorage = _.throttle(() => {\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}, 500);\n\nfunction fieldUserInfo(event) {\n    const { name, value } = event.target;\n\n    if (name === 'email' || name === 'message') {\n        formData[name] = value;\n        updateLocalStorage();\n    }\n}\n\nfunction sendUserInfo(event) {\n    const form = event.target;\n    const email = form.elements.email.value;\n    const message = form.elements.message.value;\n    const userInfo = {};\n\n    if (!email || !message) {\n        alert('Please, fill in all fields before sending!');\n        return;\n    }\n\n    userInfo.email = email;\n    userInfo.message = message;\n\n    console.log(userInfo);\n\n    event.preventDefault()\n    feedbackForm.reset();\n    localStorage.clear();\n}\n"],"names":["$b00c40859be242c5$var$ref","$1WSnx","parcelRequire","$b00c40859be242c5$var$feedbackForm","document","querySelector","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$localInfo","JSON","parse","localStorage","getItem","elements","email","value","message","addEventListener","event","_target","target","name","$b00c40859be242c5$var$updateLocalStorage","form","userInfo","alert","console","log","preventDefault","reset","clear","$parcel$interopDefault","throttle","setItem","stringify"],"version":3,"file":"03-feedback.7fdc6e65.js.map"}