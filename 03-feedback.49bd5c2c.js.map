{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAeC,SAASC,cAAc,kBACtCC,EAAW,G,IACCC,EAAlB,MAAMC,EAAmE,QAAvDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQ,+BAAuB,IAAvDL,IAA2D,GAE7EJ,EAAaU,SAASC,MAAMC,MAAQP,EAAUM,OAAS,GACvDX,EAAaU,SAASG,QAAQD,MAAQP,EAAUQ,SAAW,GAE3Db,EAAac,iBAAiB,SAO9B,SAAuBC,GACnB,MAAMC,KAAEA,EAAIJ,MAAEA,GAAUG,EAAME,OAEjB,UAATD,GAA6B,YAATA,IACpBb,EAASa,GAAQJ,EACjBM,I,IAXRlB,EAAac,iBAAiB,UAe9B,SAAsBC,GAClB,MAAMI,EAAOJ,EAAME,OACbN,EAAQQ,EAAKT,SAASC,MAAMC,MAC5BC,EAAUM,EAAKT,SAASG,QAAQD,MAChCQ,EAAW,GAEjB,IAAKT,IAAUE,EAEX,YADAQ,MAAM,8CAIVD,EAAST,MAAQA,EACjBS,EAASP,QAAUA,EAEnBS,QAAQC,IAAIH,GAEZL,EAAMS,iBACNxB,EAAayB,QACbjB,aAAakB,O,IA/BjB,MAAMR,EAAqBS,EAAA7B,GAAE8B,UAAS,KAClCpB,aAAaqB,QAAQ,sBAAuBvB,KAAKwB,UAAU3B,GAAU,GACtE","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst formData = {};\nconst localInfo = JSON.parse(localStorage.getItem(\"feedback-form-state\")) ?? {};\n\nfeedbackForm.elements.email.value = localInfo.email || '';\nfeedbackForm.elements.message.value = localInfo.message || '';\n\nfeedbackForm.addEventListener('input', fieldUserInfo);\nfeedbackForm.addEventListener('submit', sendUserInfo);\n\nconst updateLocalStorage = _.throttle(() => {\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}, 500);\n\nfunction fieldUserInfo(event) {\n    const { name, value } = event.target;\n\n    if (name === 'email' || name === 'message') {\n        formData[name] = value;\n        updateLocalStorage();\n    }\n}\n\nfunction sendUserInfo(event) {\n    const form = event.target;\n    const email = form.elements.email.value;\n    const message = form.elements.message.value;\n    const userInfo = {};\n\n    if (!email || !message) {\n        alert('Please, fill in all fields before sending!');\n        return;\n    }\n\n    userInfo.email = email;\n    userInfo.message = message;\n\n    console.log(userInfo);\n\n    event.preventDefault()\n    feedbackForm.reset();\n    localStorage.clear();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$ref","$945622fd0f572e60$var$localInfo","JSON","parse","localStorage","getItem","elements","email","value","message","addEventListener","event","name","target","$945622fd0f572e60$var$updateLocalStorage","form","userInfo","alert","console","log","preventDefault","reset","clear","$parcel$interopDefault","throttle","setItem","stringify"],"version":3,"file":"03-feedback.49bd5c2c.js.map"}